<!DOCTYPE html>
<html>

<head>
    {% load static %}

    <title>Predict My EV - EV Connect</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Mail Icon</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/20c5629a29.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bree+Serif&family=Caveat:wght@400;700&family=Lobster&family=Monoton&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Playfair+Display+SC:ital,wght@0,400;0,700;1,700&family=Playfair+Display:ital,wght@0,400;0,700;1,700&family=Roboto:ital,wght@0,400;0,700;1,400;1,700&family=Source+Sans+Pro:ital,wght@0,400;0,700;1,700&family=Work+Sans:ital,wght@0,400;0,700;1,700&display=swap');

.pev-para {
    font-family: "Montserrat", sans-serif;
    font-size: 20px;
}

.pev-image-container {
    background-color: #8398B4;
}

.pev-heading {
    font-family: "Montserrat", sans-serif;
}

.pev-custom-shadow {
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    border-radius: 10px;
    padding: 20px;
    background-color: #f2f2f2;
    margin-top: 20px;
    margin-bottom: 20px;
}

.pev-our-mission-container {
    background-color: #f5f5f0;
}

.predicted-price-container {
    background-color: #e0f7fa;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
    border: 1px solid #90caf9;
    color: #0d47a1;
}

.footer-section {
    background-color: #1A5276;
    margin: 20px;
    color: #fff;
    padding: 10px;
}

.footer-section-para {
    font-size: 1.75rem;
    font-weight: bold;
    margin-bottom: 1.5rem;
}

.footer-section-icon-para {
    font-size: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0.5rem 0;
}

.footer-section-icon-para i {
    margin-right: 0.75rem;
}

.email-link {
    color: #fff;
    text-decoration: none;
    transition: color 0.3s ease;
}

.email-link:hover {
    color: #007bff;
}

.logo-image {
    max-width: 90px;
    margin-bottom: 1rem;
}

.footer-section-para2 {
    font-size: 1rem;
    color: #aaa;
    margin-top: 1.5rem;
}

#navItem1,
#navItem2,
#navItem3,
#navItem4 {
    color: #323f4b;
    font-family: "Montserrat";
}

.navbar {
    width: 100vw;
    background-size: cover;
    margin: 0 auto;
}

body {
    padding-top: 60px;
}

#loadingOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

#loadingSpinner {
    width: 3rem;
    height: 3rem;
}
    </style>
</head>

<body>
    <div class="navbar col-12">
        <nav class="navbar-expand-lg navbar-light bg-white fixed-top">
            <div class="container">
                <a class="navbar-brand mt-2 ml-0 mr-2 mb-0" href="#">
                    <img src="https://www.finsmes.com/wp-content/uploads/2019/10/evconnect.png" class="logo-image" />
                </a>
                <button class="navbar-toggler m-3" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav ml-auto">
                        <a class="nav-link" href="#Predict Now" id="navItem2">Predict Now</a>
                        <a class="nav-link" href="#Contact Us" id="navItem3">Contact Us</a>
                        <a class="nav-link" href="{% url 'home' %}" id="navItem4">Back To Home</a>
                    </div>
                </div>
            </div>
        </nav>
    </div>

    <div class="fe-body mt-2">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="{% static 'images/banner.jpeg' %}" alt="First slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="{% static 'images/banner-2.jpg' %}" alt="Second slide">
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="{% static 'images/banner-3.jpg' %}" alt="Third slide">
                </div>
            </div>
            
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>

        <div class="col-12">
            <div class="pev-our-mission-container row align-items-center">
                <div class=" d-flex flex-column justify-content-center col-12 col-md-6">
                    <div class="text-center">
                        <h1 class="pev-heading mb-2 mt-3">Our Mission</h1>
                    </div>
                    <div class="p-3">
                        <p class="pev-para">
                            We provide accurate EV price predictions based on detailed vehicle specifications. By analyzing important factors like battery size, driving range, performance, brand, and market trends, our advanced algorithms give you precise estimates to help you make smarter financial choices.
                        </p>
                    </div>
                </div>
                <div class="pev-image-container col-12 col-md-6 p-5">
                    <img src="https://s7ap1.scene7.com/is/image/tatapassenger/Virtual-Sunrise-left?$VH-708-500-D$&fit=crop&fmt=webp-alpha" class="pev-image w-100" />
                </div>
            </div>

            <div class="container" id="Predict Now">
                <div class="pev-custom-shadow">
                    <h1 class="mt-4 text-center pev-heading ">Predict My EV Price</h1>
                    <form method="POST" action="{% url 'predict_my_ev' %}" id="predictionForm">
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="brand">Brand</label>
                                <select class="form-control" id="brand" name="brand">
                                    <option value="">Select Brand</option>
                                    {% for brand in brands %}
                                    <option value="{{ brand }}">{{ brand }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="accel_sec">Acceleration (0-100 km/h, seconds)</label>
                                <input type="number" class="form-control" id="accel_sec" name="accel_sec" placeholder="Acceleration (seconds)" step="0.1">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="seats">Seats</label>
                                <input type="number" class="form-control" id="seats" name="seats" placeholder="Seats" min="1" max="7">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="top_speed_kmh">Top Speed (Km/h)</label>
                                <input type="number" class="form-control" id="top_speed_kmh" name="top_speed_kmh" placeholder="Top Speed (Km/h)" min="60" max="300">
                                <small class="form-text text-muted">Typical range: 60 km/h to 300 km/h</small>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="range_km">Range (Km)</label>
                                <input type="number" class="form-control" id="range_km" name="range_km" placeholder="Range (Km)" min="100" max="600">
                                <small class="form-text text-muted">Typical range: 100 km to 600 km</small>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="efficiency_whkm">Efficiency (Wh/km)</label>
                                <input type="number" class="form-control" id="efficiency_whkm" name="efficiency_whkm" placeholder="Efficiency (Wh/km)" step="0.1" min="100" max="500">
                                <small class="form-text text-muted">Typical range: 100 Wh/km to 500 Wh/km</small>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="fast_charge_kmh">Fast Charge (Km/h)</label>
                                <input type="number" class="form-control" id="fast_charge_kmh" name="fast_charge_kmh" placeholder="Fast Charge (Km/h)" min="20" max="150">
                                <small class="form-text text-muted">Typical range: 20 km/h to 150 km/h</small>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="rapid_charge">Rapid Charge</label>
                                <select class="form-control" id="rapid_charge" name="rapid_charge">
                                    <option value="">Select</option>
                                    <option value="Yes">Yes</option>
                                    <option value="No">No</option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="powertrain">Powertrain</label>
                                <select class="form-control" id="powertrain" name="powertrain">
                                    <option value="">Select</option>
                                    <option value="AWD">All Wheel</option>
                                    <option value="RWD">Rear</option>
                                    <option value="FWD">Front</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-4">
                                <label for="plug_type">Plug Type</label>
                                <select class="form-control" id="plug_type" name="plug_type">
                                    <option value="">Select Plug Type</option>
                                    <option value="Type 2 CCS">Type 2 CCS</option>
                                    <option value="Type 2 CHAdeMO">Type 2 CHAdeMO</option>
                                    <option value="Type 2">Type 2</option>
                                    <option value="Type 1 CHAdeMO">Type 1 CHAdeMO</option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="body_style">Body Style</label>
                                <select class="form-control" id="body_style" name="body_style">
                                    <option value="">Select Body Style</option>
                                    <option value="Sedan">Sedan</option>
                                    <option value="Hatchback">Hatchback</option>
                                    <option value="Liftback">Liftback</option>
                                    <option value="SUV">SUV</option>
                                    <option value="Pickup">Pickup</option>
                                    <option value="MPV">MPV</option>
                                    <option value="Cabrio">Cabrio</option>
                                    <option value="SPV">SPV</option>
                                    <option value="Station">Station</option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label for="segment">Segment</label>
                                <select class="form-control" id="segment" name="segment">
                                    <option value="">Select Segment</option>
                                    <option value="D">D</option>
                                    <option value="C">C</option>
                                    <option value="B">B</option>
                                    <option value="F">F</option>
                                    <option value="A">A</option>
                                    <option value="E">E</option>
                                    <option value="N">N</option>
                                    <option value="S">S</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            
                        </div>
            
                        <button type="submit" class="btn btn-primary" onclick="showLoading()">Predict</button>
                    </form>
                </div>

                {% if predicted_price %}
                <div class="predicted-price-container mt-4">
                    <h2>Predicted Price</h2>
                    <p>The predicted price for the selected EV is <h3><strong>${{ predicted_price }}</strong></h3></p>
                </div>
                {% endif %}
            </div>
        </div>

        <div class="footer-section" id="Contact Us">
            <div class="container text-center">
                <p class="footer-section-para">Get in Touch</p>
                <img src="https://www.finsmes.com/wp-content/uploads/2019/10/evconnect.png" class="logo-image" alt="Company Logo" />
                <div class="footer-section-icon-para">
                    <i class="fa-regular fa-envelope"></i>
                    <a href="mailto:phanendratirumala15@gmail.com" class="email-link">phanendratirumala15@gmail.com</a>
                </div>
                <div class="footer-section-icon-para">
                    <i class="fa-regular fa-envelope"></i>
                    <a href="mailto:lokeshkotha7535@gmail.com" class="email-link">lokeshkotha7535@gmail.com</a>
                </div>
                <p class="footer-section-para2">Vijayawada, India</p>
            </div>
        </div>


        <!-- Loading Overlay -->
        <div id="loadingOverlay" class="d-none">
            <div id="loadingSpinner" class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>

        <script>
            // Display the loading overlay
            function showLoading() {
                document.getElementById('loadingOverlay').classList.remove('d-none');
            }

            // Hide the loading overlay
            function hideLoading() {
                document.getElementById('loadingOverlay').classList.add('d-none');
            }

            // Example usage
            document.addEventListener('DOMContentLoaded', function() {
                hideLoading(); // Ensure loading overlay is hidden on page load
            });
        </script>
    </div>
</body>

</html>